
<div class="col-12 col-lg-6" id="<%= dom_id movement %>" style="background-color: <%= movement.expense_item&.color %>">
  <div class="row">
    <div class="col-3 col-sm-2 d-flex justify-content-center border border-dark">
      <%= parse_date(movement.emitted_at, '%d.%m.%y') %>
    </div>
    <div class="col-6 col-sm-8 d-flex justify-content-center border border-dark">
      <button type="button" class="btn btn-link text-dark text-decoration-none mx-1 p-0" data-bs-toggle="modal" data-bs-target="#movementEditinModal_<%= movement.id %>">
        <%= movement.causal %>
      </button>
    </div>
    <div class="col-3 col-sm-2 d-flex justify-content-center border border-dark">
      <% visible_amount = to_visible_amount(movement.amount) %>
      <span class="d-flex d-lg-none m-0"><%= movement.movement_type == 'in' ? '+' : '-' %></span> <%= visible_amount %>â‚¬
    </div>
  </div>
</div>

<!-- Modale per la cancellazione / modifica di un movimento di cassa -->
<div class="modal fade" id="movementEditinModal_<%= movement.id %>" tabindex="-1" aria-labelledby="movementEditinModal_<%= movement.id %>Label" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title fs-5" id="movementEditinModal_<%= movement.id %>Label">Modifica movimento</h4>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div id="movement_<%= movement.id %>_error_messages"></div>

        <%= render "form", movement: movement, expense_items: expense_items, movement_types: movement_types %>

        <div class="mt-5 mb-4 mx-2 mx-sm-4 d-flex justify-content-end">
          <%= button_to 'Rimuovi dal conto', count_movement_path(@count, movement), method: :delete, class: "btn btn-danger" %>
        </div>
      </div>
    </div>
  </div>
</div>
